(function(){var b,a;a=function(d){var c,e,g,f;c=d.data("confirm");if(!c){return true}if(typeof c==="string"){return window.confirm(c)}f=$("<div class='reveal-modal medium'>\n  <h2 class='header'></h2>\n  <p class='warning'></p>\n  <div class='footer'>\n    <a class='cancel-button secondary button radius inline'>Cancel</a>\n  </div>\n</div>");f.find(".header").html(c.title||"Are you sure?");f.find(".warning").html(c.text||"This action cannot be undone.");e=d.is("a")?d.clone():$("<a/>");e.removeAttr("class").removeAttr("data-confirm").addClass("button radius alert inline confirm").html(c.button||"Confirm");if(d.is("form")||d.is(":input")){e.on("click",function(){return d.closest("form").removeAttr("data-confirm").submit()})}f.find(".cancel-button").on("click",function(h){return f.foundation("reveal","close")});f.find(".footer").append(e);if(c.password){g="<label>Type <i>"+c.password+"</i> to continue:</label>\n<input class='confirm-password' type='text' />";f.find(".warning").after($(g));f.find(".confirm-password").on("keyup",function(h){return e.toggleClass("disabled",$(this).val()!==c.password)});e.addClass("disabled").on("click",function(h){if($(this).hasClass("disabled")){return false}})}f.appendTo($("body")).foundation("reveal","open").on("closed.fndtn.reveal",function(h){return f.remove()});return false};if($.rails){$.rails.allowAction=a}else{b=function(d){var c;c=a($(this));if(!c){d.preventDefault();d.stopImmediatePropagation()}return c};$(document).on("click","a[data-confirm], :input[data-confirm]",b);$(document).on("submit","form[data-confirm]",b)}}).call(this);
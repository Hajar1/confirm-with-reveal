(function(){var a;a=function(c){var b,d,f,e;b=c.data("confirm");if(!b){return true}if(typeof b==="string"){return window.confirm(b)}e=$("<div class='reveal-modal medium'>\n  <h2 class='header'></h2>\n  <p class='warning'></p>\n  <div class='footer'>\n    <a class='cancel-button secondary button radius inline'>Cancel</a>\n  </div>\n</div>");e.find(".header").html(b.title||"Are you sure?");e.find(".warning").html(b.text||"This action cannot be undone.");d=c.is("a")?c.clone():$("<a/>");d.removeAttr("class").removeAttr("data-confirm").addClass("button radius alert inline confirm").html(b.button||"Confirm");if(c.is("form")||c.is(":input")){d.on("click",function(){return c.closest("form").removeAttr("data-confirm").submit()})}e.find(".cancel-button").on("click",function(g){return e.foundation("reveal","close")});e.find(".footer").append(d);if(b.password){f="<label>Type <i>"+b.password+"</i> to continue:</label>\n<input class='confirm-password' type='text' />";e.find(".warning").after($(f));e.find(".confirm-password").on("keyup",function(g){return d.toggleClass("disabled",$(this).val()!==b.password)});d.addClass("disabled").on("click",function(g){if($(this).hasClass("disabled")){return false}})}e.appendTo($("body")).foundation("reveal","open").on("closed.fndtn.reveal",function(g){return e.remove()});return false};if($.rails){$.rails.allowAction=a}else{$(document).on("click","[data-confirm]",function(c){var b;b=a($(this));if(!b){c.preventDefault();c.stopImmediatePropagation()}return b})}}).call(this);